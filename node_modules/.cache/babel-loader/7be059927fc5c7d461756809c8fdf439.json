{"ast":null,"code":"// function refreshProfile(user, dispatch){\n//     dispatch({type: \"REFRESH_PROFILE\", payload: user})\n// }\nconst selectedGamesURL = `http://localhost:3000/game_selections`; // const userURL = `http://localhost:3000/users/${localStorage.user_id}`\n\nfunction confirmUserData() {\n  return dispatch => {\n    dispatch({\n      type: \"START_CONFIRMING_USER\"\n    });\n    fetch(`http://localhost:3000/users/${localStorage.user_id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.token}`\n      }\n    }).then(response => response.json()).then(user => {\n      dispatch({\n        type: \"CONFIRM_USER\",\n        user\n      });\n    });\n  };\n}\n\nfunction submitGame(game) {\n  return dispatch => {\n    dispatch({\n      type: \"START_SUBMITTING_GAME\"\n    });\n    fetch(selectedGamesURL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify(game)\n    }).then(response => response.json()).then(r => {\n      console.log(r);\n\n      if (r.message === \"Accepted\") {\n        return dispatch({\n          type: \"SUBMIT_GAME\",\n          game: r.game_selection\n        });\n      } else alert(\"Error submitting picks, please try again.\");\n    });\n  };\n}\n\nfunction adjustPoints(newPoints) {\n  return dispatch => {\n    dispatch({\n      type: \"START_ADJUSTING_POINTS\"\n    });\n    fetch(`http://localhost:3000/users/${localStorage.user_id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        betting_points: newPoints\n      })\n    }).then(response => response.json()).then(r => {\n      dispatch({\n        type: \"ADJUST_POINTS\",\n        betting_points: newPoints\n      });\n    });\n  };\n}\n\nfunction deleteSubmittedGame(game) {\n  return dispatch => {\n    dispatch({\n      type: \"START_DELETING_GAME\"\n    });\n    fetch(`http://localhost:3000/game_selections/${game.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.token}`\n      }\n    }).then(response => response.json()).then(r => {\n      let g = r.deleted_game;\n      return dispatch({\n        type: \"DELETE_GAME\",\n        g\n      });\n    });\n  };\n}\n\nexport { confirmUserData, submitGame, adjustPoints, deleteSubmittedGame };","map":{"version":3,"sources":["/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/src/redux/actions/user.js"],"names":["selectedGamesURL","confirmUserData","dispatch","type","fetch","localStorage","user_id","method","headers","token","then","response","json","user","submitGame","game","body","JSON","stringify","r","console","log","message","game_selection","alert","adjustPoints","newPoints","betting_points","deleteSubmittedGame","id","g","deleted_game"],"mappings":"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","sourcesContent":["// function refreshProfile(user, dispatch){\n//     dispatch({type: \"REFRESH_PROFILE\", payload: user})\n// }\nconst selectedGamesURL = `http://localhost:3000/game_selections`\n// const userURL = `http://localhost:3000/users/${localStorage.user_id}`\n\nfunction confirmUserData(){\n    return (dispatch) => {\n        dispatch({type: \"START_CONFIRMING_USER\"});\n        fetch(`http://localhost:3000/users/${localStorage.user_id}`, {\n            method: \"GET\", \n            headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${localStorage.token}`\n                }\n            }\n        ).then(response => response.json()\n        ).then(user => {\n            dispatch({type: \"CONFIRM_USER\", user })\n        })\n    }\n}\nfunction submitGame(game){\n    return (dispatch) => {\n        dispatch({type: \"START_SUBMITTING_GAME\"});\n        fetch(selectedGamesURL, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.token}`\n            },\n            body: JSON.stringify(game)\n        }).then(response => response.json()\n        ).then(r => {\n            console.log(r)\n            if (r.message === \"Accepted\"){\n                return dispatch({type: \"SUBMIT_GAME\", game: r.game_selection})\n            } else (alert(\"Error submitting picks, please try again.\"))\n        })\n    }        \n}\n\nfunction adjustPoints(newPoints){\n    return (dispatch) => {\n        dispatch({type: \"START_ADJUSTING_POINTS\"});\n        fetch(`http://localhost:3000/users/${localStorage.user_id}`, {\n            method: \"PUT\", \n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.token}`\n            },\n            body: JSON.stringify({betting_points: newPoints})\n        }).then(response => response.json()\n        ).then(r => {\n            dispatch({type: \"ADJUST_POINTS\", betting_points: newPoints})\n        })\n\n    }\n}\n\nfunction deleteSubmittedGame(game){\n    return dispatch => {\n        dispatch({type: \"START_DELETING_GAME\"})\n            fetch(`http://localhost:3000/game_selections/${game.id}`, {\n                method: \"DELETE\", \n                headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.token}`\n                }\n            }).then(response => response.json()\n        ).then(r => {\n            let g = r.deleted_game\n                return dispatch({type: \"DELETE_GAME\", g})\n            \n        })\n    }\n}\n\nexport {\n    confirmUserData,\n    submitGame,\n    adjustPoints, \n    deleteSubmittedGame\n}"]},"metadata":{},"sourceType":"module"}