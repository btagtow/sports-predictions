{"ast":null,"code":"import _defineProperty from\"/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var usersURL='http://localhost:3000/users';var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",betting_points:100};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();fetch(usersURL,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:_this.state})}).then(function(response){return response.json();}).then(function(result){// localStorage.setItem(\"token\", result.token)\nconsole.log(result);if(result.message.username){alert(\"username \".concat(result.message.username));}else if(result.message.password){alert(\"password \".concat(result.message.password));}else{alert(result.message);localStorage.setItem(\"token\",result.token);localStorage.setItem(\"user_id\",result.user_id);_this.props.setisLoginShown(true);}});event.target.reset();};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,password=_this$state.password;return/*#__PURE__*/React.createElement(\"div\",{className:\"form\"},/*#__PURE__*/React.createElement(\"form\",{className:\"auth-form signup\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"username\",name:\"username\",value:username,placeholder:\"username\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,placeholder:\"password\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"sign up!\",className:\"auth-button\"})));}}]);return Signup;}(React.Component);export default Signup;","map":{"version":3,"sources":["/Users/benjamintagtow/Desktop/job-search/projects/sports-predictor/sports-predictions-front/src/components/auth/forms/SignupForm.js"],"names":["React","usersURL","Signup","state","username","password","betting_points","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","response","json","result","console","log","message","alert","localStorage","setItem","token","user_id","props","setisLoginShown","reset","Component"],"mappings":"4gCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,6BAAjB,C,GAEMC,CAAAA,M,uUACFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,CAEJC,QAAQ,CAAE,EAFN,CAGJC,cAAc,CAAE,GAHZ,C,OAMRC,Y,CAAe,SAAAC,KAAK,CAAI,mBACIA,KAAK,CAACC,MADV,CACZC,IADY,eACZA,IADY,CACNC,KADM,eACNA,KADM,CAEpB,MAAKC,QAAL,oBAAiBF,IAAjB,CAAyBC,KAAzB,GACH,C,OAEDE,Y,CAAe,SAAAL,KAAK,CAAI,CACpBA,KAAK,CAACM,cAAN,GAEAC,KAAK,CAACd,QAAD,CAAW,CACZe,MAAM,CAAE,MADI,CAEZC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFG,CAKZC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACC,IAAI,CAAE,MAAKlB,KAAZ,CAAf,CALM,CAAX,CAAL,CAOCmB,IAPD,CAOM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAPd,EAQCF,IARD,CAQM,SAAAG,MAAM,CAAI,CACZ;AACAC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,GAAIA,MAAM,CAACG,OAAP,CAAexB,QAAnB,CAA4B,CACxByB,KAAK,oBAAaJ,MAAM,CAACG,OAAP,CAAexB,QAA5B,EAAL,CACH,CAFD,IAEO,IAAIqB,MAAM,CAACG,OAAP,CAAevB,QAAnB,CAA4B,CAC/BwB,KAAK,oBAAaJ,MAAM,CAACG,OAAP,CAAevB,QAA5B,EAAL,CACH,CAFM,IAEA,CACHwB,KAAK,CAACJ,MAAM,CAACG,OAAR,CAAL,CACAE,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BN,MAAM,CAACO,KAArC,EACAF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgCN,MAAM,CAACQ,OAAvC,EACA,MAAKC,KAAL,CAAWC,eAAX,CAA2B,IAA3B,EACH,CACJ,CArBD,EAsBA3B,KAAK,CAACC,MAAN,CAAa2B,KAAb,GAGH,C,yEACQ,iBAE0B,KAAKjC,KAF/B,CAEGC,QAFH,aAEGA,QAFH,CAEaC,QAFb,aAEaA,QAFb,CAIL,mBACI,2BAAK,SAAS,CAAC,MAAf,eAEI,4BAAM,SAAS,CAAG,kBAAlB,CAAqC,QAAQ,CAAE,KAAKQ,YAApD,eACI,6BACI,IAAI,CAAC,UADT,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAET,QAHX,CAII,WAAW,CAAC,UAJhB,CAKI,QAAQ,CAAI,KAAKG,YALrB,EADJ,cAQI,6BACI,IAAI,CAAC,UADT,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAEF,QAHX,CAII,WAAW,CAAC,UAJhB,CAKI,QAAQ,CAAI,KAAKE,YALrB,EARJ,cAiBI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,UAA3B,CAAsC,SAAS,CAAC,aAAhD,EAjBJ,CAFJ,CADJ,CAyBH,C,oBAtEgBP,KAAK,CAACqC,S,EAyE3B,cAAenC,CAAAA,MAAf","sourcesContent":["import React from 'react'\n\nconst usersURL = 'http://localhost:3000/users'\n\nclass Signup extends React.Component {\n    state = {\n        username: \"\",\n        password: \"\",\n        betting_points: 100\n    }\n\n    handleChange = event => {\n        const { name, value } = event.target\n        this.setState({ [name] : value })\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n\n        fetch(usersURL, {\n            method: \"POST\", \n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({user: this.state})\n        })\n        .then(response => response.json())\n        .then(result => {\n            // localStorage.setItem(\"token\", result.token)\n            console.log(result)\n            if (result.message.username){\n                alert(`username ${result.message.username}`)\n            } else if (result.message.password){\n                alert(`password ${result.message.password}`)\n            } else {\n                alert(result.message)\n                localStorage.setItem(\"token\", result.token) \n                localStorage.setItem(\"user_id\", result.user_id) \n                this.props.setisLoginShown(true)\n            }\n        })\n        event.target.reset()\n\n\n    }\n    render() {\n\n        const { username, password } = this.state\n\n        return (\n            <div className=\"form\">\n\n                <form className = \"auth-form signup\" onSubmit={this.handleSubmit}>\n                    <input\n                        type=\"username\"\n                        name=\"username\"\n                        value={username}\n                        placeholder=\"username\"\n                        onChange = {this.handleChange}\n                    />\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={password}\n                        placeholder=\"password\"\n                        onChange = {this.handleChange}\n\n                    />\n\n                    <input type=\"submit\" value=\"sign up!\" className=\"auth-button\" />\n                </form>\n            </div>\n            \n        )\n    }\n}\n\nexport default Signup"]},"metadata":{},"sourceType":"module"}